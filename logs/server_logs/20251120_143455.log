2025-11-20 14:34:55,917 - src.main - INFO - Logging initialized. Log file: logs/server_logs/20251120_143455.log
2025-11-20 14:34:55,938 - src.main - INFO - Frontend assets mounted at /assets
2025-11-20 14:34:55,939 - src.main - INFO - SPA routing configured for frontend
2025-11-20 14:34:56,401 - uvicorn.error - INFO - Started server process [10]
2025-11-20 14:34:56,405 - uvicorn.error - INFO - Waiting for application startup.
2025-11-20 14:34:56,410 - src.main - INFO - ðŸš€ Ultimate Advisor API server starting...
2025-11-20 14:34:56,410 - src.main - INFO - ðŸ“š RAG-based chat system for Ultimate Frisbee rules and guidance
2025-11-20 14:34:56,411 - src.main - INFO - ðŸ”¥ Warming up Ollama models (this may take 30-60 seconds)...
2025-11-20 14:34:56,412 - src.rag.repositories - INFO - ðŸ”¥ Starting model warm-up...
2025-11-20 14:34:56,413 - src.rag.repositories - INFO - Loading embedding model into memory...
2025-11-20 14:34:57,561 - httpx - INFO - HTTP Request: POST http://ollama:11434/api/embed "HTTP/1.1 200 OK"
2025-11-20 14:34:57,563 - src.rag.repositories - INFO - âœ“ Embedding model loaded successfully (dim=768)
2025-11-20 14:34:57,564 - src.rag.repositories - INFO - Loading chat model into memory...
2025-11-20 14:34:58,279 - httpx - INFO - HTTP Request: POST http://ollama:11434/api/show "HTTP/1.1 200 OK"
2025-11-20 14:35:59,364 - httpx - INFO - HTTP Request: POST http://ollama:11434/api/chat "HTTP/1.1 200 OK"
2025-11-20 14:35:59,472 - src.rag.repositories - INFO - âœ“ Chat model loaded successfully (response: Ready.)
2025-11-20 14:35:59,473 - src.rag.repositories - INFO - âœ… All models warmed up and ready!
2025-11-20 14:35:59,475 - src.main - INFO - âœ… Models are ready! Server is now accepting requests.
2025-11-20 14:35:59,491 - uvicorn.error - INFO - Application startup complete.
2025-11-20 14:35:59,583 - uvicorn.error - INFO - Uvicorn running on http://0.0.0.0:8000 (Press CTRL+C to quit)
2025-11-20 14:36:22,373 - src.main - INFO - Request: GET / from 172.67.182.229
2025-11-20 14:36:23,699 - src.main - INFO - Response: 200 for GET / - 1.328s
2025-11-20 14:36:23,897 - src.main - INFO - Request: GET /assets/index-5otq0lqL.css from 172.67.182.229
2025-11-20 14:36:23,897 - src.main - INFO - Request: GET /assets/index-D0ZgT6O3.js from 172.67.182.229
2025-11-20 14:36:23,904 - src.main - INFO - Response: 304 for GET /assets/index-5otq0lqL.css - 0.008s
2025-11-20 14:36:23,907 - src.main - INFO - Response: 304 for GET /assets/index-D0ZgT6O3.js - 0.009s
2025-11-20 14:36:25,311 - src.main - INFO - Request: GET /history/queries from 172.67.182.229
2025-11-20 14:36:25,677 - src.main - INFO - Request: GET /piramal-favicone.png from 172.67.182.229
2025-11-20 14:36:25,679 - src.main - INFO - Response: 200 for GET /history/queries - 0.368s
2025-11-20 14:36:25,694 - src.main - INFO - Response: 200 for GET /piramal-favicone.png - 0.017s
2025-11-20 14:36:32,277 - src.main - INFO - Request: POST /rag/query from 172.67.182.229
2025-11-20 14:36:32,360 - src.rag.repositories - INFO - Models configured: LLM=gemma3:4b, Embedding=embeddinggemma:latest (timeout=300.0s, keep_alive=5m)
2025-11-20 14:36:37,472 - httpx - INFO - HTTP Request: POST http://ollama:11434/api/embed "HTTP/1.1 200 OK"
2025-11-20 14:36:37,476 - src.rag.repositories - INFO - Embedding dimension confirmed: 768
2025-11-20 14:36:37,501 - src.rag.repositories - INFO - Database connection established
2025-11-20 14:36:37,504 - src.rag.repositories - INFO - pgvector extension ensured
2025-11-20 14:36:37,511 - src.rag.repositories - INFO - Vector store configured with table 'documents' (embed_dim=768)
2025-11-20 14:36:37,569 - src.rag.repositories - INFO - Vector store contains 793 documents
2025-11-20 14:36:37,569 - src.rag.repositories - INFO - Index not initialized, creating from vector store...
2025-11-20 14:36:38,065 - src.rag.repositories - INFO - âœ“ Index successfully created from vector store
2025-11-20 14:36:38,066 - src.rag.repositories - INFO - Executing query: 'hi...'
2025-11-20 14:36:38,332 - httpx - INFO - HTTP Request: POST http://ollama:11434/api/show "HTTP/1.1 200 OK"
2025-11-20 14:36:38,622 - httpx - INFO - HTTP Request: POST http://ollama:11434/api/embed "HTTP/1.1 200 OK"
2025-11-20 14:38:25,193 - httpx - INFO - HTTP Request: POST http://ollama:11434/api/chat "HTTP/1.1 200 OK"
2025-11-20 14:38:26,328 - src.rag.repositories - INFO - Query executed successfully
2025-11-20 14:38:27,784 - src.history.repositories - INFO - Created query history with ID: eeed1995-9227-41d8-8317-1c23eebfc0ef
2025-11-20 14:38:28,129 - src.history.services - INFO - Saved query history with ID: eeed1995-9227-41d8-8317-1c23eebfc0ef
2025-11-20 14:38:28,462 - src.main - INFO - Response: 200 for POST /rag/query - 116.160s
2025-11-20 14:38:28,775 - src.main - INFO - Request: POST /rag/query from 172.67.182.229
2025-11-20 14:38:29,167 - src.main - INFO - Request: GET /history/queries from 172.67.182.229
2025-11-20 14:38:29,806 - src.main - INFO - Response: 200 for GET /history/queries - 0.639s
2025-11-20 14:38:30,707 - src.rag.repositories - INFO - Models configured: LLM=gemma3:4b, Embedding=embeddinggemma:latest (timeout=300.0s, keep_alive=5m)
2025-11-20 14:38:36,998 - httpx - INFO - HTTP Request: POST http://ollama:11434/api/embed "HTTP/1.1 200 OK"
2025-11-20 14:38:37,008 - src.rag.repositories - INFO - Embedding dimension confirmed: 768
2025-11-20 14:38:37,053 - src.rag.repositories - INFO - Database connection established
2025-11-20 14:38:37,057 - src.rag.repositories - INFO - pgvector extension ensured
2025-11-20 14:38:37,093 - src.rag.repositories - INFO - Vector store configured with table 'documents' (embed_dim=768)
2025-11-20 14:38:37,118 - src.rag.repositories - INFO - Vector store contains 793 documents
2025-11-20 14:38:37,118 - src.rag.repositories - INFO - Index not initialized, creating from vector store...
2025-11-20 14:38:37,133 - src.rag.repositories - INFO - âœ“ Index successfully created from vector store
2025-11-20 14:38:37,134 - src.rag.repositories - INFO - Executing query: 'hello...'
2025-11-20 14:38:37,411 - httpx - INFO - HTTP Request: POST http://ollama:11434/api/show "HTTP/1.1 200 OK"
2025-11-20 14:38:37,847 - httpx - INFO - HTTP Request: POST http://ollama:11434/api/embed "HTTP/1.1 200 OK"
2025-11-20 14:39:59,863 - httpx - INFO - HTTP Request: POST http://ollama:11434/api/chat "HTTP/1.1 200 OK"
2025-11-20 14:40:00,372 - src.rag.repositories - INFO - Query executed successfully
2025-11-20 14:40:00,981 - src.history.repositories - INFO - Created query history with ID: 6ce15536-fa6b-47e4-bf7f-26df42e9a5a9
2025-11-20 14:40:01,104 - src.history.services - INFO - Saved query history with ID: 6ce15536-fa6b-47e4-bf7f-26df42e9a5a9
2025-11-20 14:40:01,211 - src.main - INFO - Response: 200 for POST /rag/query - 92.442s
2025-11-20 14:40:01,462 - src.main - INFO - Request: POST /rag/query from 172.67.182.229
2025-11-20 14:40:02,574 - src.rag.repositories - INFO - Models configured: LLM=gemma3:4b, Embedding=embeddinggemma:latest (timeout=300.0s, keep_alive=5m)
2025-11-20 14:40:14,423 - httpx - INFO - HTTP Request: POST http://ollama:11434/api/embed "HTTP/1.1 200 OK"
2025-11-20 14:40:14,433 - src.rag.repositories - INFO - Embedding dimension confirmed: 768
2025-11-20 14:40:14,496 - src.rag.repositories - INFO - Database connection established
2025-11-20 14:40:14,505 - src.rag.repositories - INFO - pgvector extension ensured
2025-11-20 14:40:14,565 - src.rag.repositories - INFO - Vector store configured with table 'documents' (embed_dim=768)
2025-11-20 14:40:14,605 - src.rag.repositories - INFO - Vector store contains 793 documents
2025-11-20 14:40:14,606 - src.rag.repositories - INFO - Index not initialized, creating from vector store...
2025-11-20 14:40:14,621 - src.rag.repositories - INFO - âœ“ Index successfully created from vector store
2025-11-20 14:40:14,622 - src.rag.repositories - INFO - Executing query: 'What are principles this book talks?...'
2025-11-20 14:40:15,262 - httpx - INFO - HTTP Request: POST http://ollama:11434/api/show "HTTP/1.1 200 OK"
2025-11-20 14:40:20,231 - httpx - INFO - HTTP Request: POST http://ollama:11434/api/embed "HTTP/1.1 200 OK"
